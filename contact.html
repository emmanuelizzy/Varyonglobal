<!-- contact.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Get In Touch | Varyon Global</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- ─── Tailwind (full CSS at runtime) ─────────────────────────────────────────── -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- ─── DM Mono & DM Sans Font-Faces (copy-pasted from your existing styling template) ────── -->
  <style>
    /* -------------- DM Mono ------------------------------------ */

    /* DM Mono Light */
    @font-face {
      font-family: "DMMono-Light";
      src: url("/_next/static/media/DMMono-Light.559007bb.ttf") format("truetype");
      font-weight: 300;
      font-style: normal;
      font-display: swap;
    }
    /* DM Mono Light Italic */
    @font-face {
      font-family: "DMMono-LightItalic";
      src: url("/_next/static/media/DMMono-LightItalic.7e9afbe4.ttf") format("truetype");
      font-weight: 300;
      font-style: italic;
      font-display: swap;
    }
    /* DM Mono Regular */
    @font-face {
      font-family: "DMMono-Regular";
      src: url("/_next/static/media/DMMono-Regular.bdf83d1f.ttf") format("truetype");
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    /* DM Mono Medium */
    @font-face {
      font-family: "DMMono-Medium";
      src: url("/_next/static/media/DMMono-Medium.28f69fcc.ttf") format("truetype");
      font-weight: 500;
      font-style: normal;
      font-display: swap;
    }
    /* DM Mono Medium Italic */
    @font-face {
      font-family: "DMMono-MediumItalic";
      src: url("/_next/static/media/DMMono-MediumItalic.995ca513.ttf") format("truetype");
      font-weight: 500;
      font-style: italic;
      font-display: swap;
    }

    /* -------------- DM Sans ------------------------------------ */

    /* DM Sans Regular */
    @font-face {
      font-family: "DMSans-Regular";
      src: url("/_next/static/media/DMSans.c25915a0.ttf") format("truetype");
      font-weight: 400;
      font-style: normal;
      font-display: swap;
    }
    /* DM Sans Italic */
    @font-face {
      font-family: "DMSans-Italic";
      src: url("/_next/static/media/DMSans-Italic.e0ce24a4.ttf") format("truetype");
      font-weight: 400;
      font-style: italic;
      font-display: swap;
    }
  </style>

  <!-- ─── Brand color & body defaults ─────────────────────────────────────────────── -->
  <style>
    :root { --page-bg: #00003a; }    /* deep-space blue (same as your template) */
    body  { background-color: var(--page-bg); color: #ffffff; }
  </style>
  <style>
    /* Ensure all form fields show typed text in black */
    #contact-modal-content input,
    #contact-modal-content select,
    #contact-modal-content textarea {
      color: #000000;
    }
  </style>
    <!-- ─── EmailJS SDK (for form submission) ────────────────────────────────────────── -->
    <script type="text/javascript">
    (function() {
      const script = document.createElement('script');
      script.type = 'text/javascript';
      script.src = 'https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js';
      script.async = true;
      document.head.appendChild(script);
    })();
  </script>
</head>

<body class="font-['DMSans-Regular']">
  <!--
    ──────────────────────────────────────────────────────────────────────────────────
    NOTE: Everything inside this <body> will get “injected” into an overlay on your index.html.
    We wrap it in a <div id="contact-modal-content"> so that the script can grab just this block.
    ──────────────────────────────────────────────────────────────────────────────────
  -->
  <div id="contact-modal-content" class="w-full h-full flex items-start justify-center py-10 pb-10 px-4">
  <div class="bg-white rounded-2xl shadow-xl max-w-2xl w-full mx-auto max-h-[90vh] flex flex-col">
   <!--Modular header -->
      <div class="flex items-center justify-between bg-[#00003a] px-6 py-4 rounded-t-2xl">
        <h2 class="text-2xl font-semibold text-white">Tell us where you’re at</h2>
        <button id="contact-modal-close" class="text-white hover:text-gray-300 text-3xl leading-none">
          &times;
        </button>
      </div>

      <!-- Modal Body (scrollable) -->
      <div class="px-6 py-8 overflow-y-auto flex-1">
        <form id="contactForm" class="space-y-6">
          
          <!-- 1) What is your name? -->
          <div>
            <label for="name" class="block text-sm font-medium text-gray-700">What is your name?</label>
            <input
              type="text"
              id="name"
              name="name"
              placeholder="Name"
              required
              class="mt-1 block w-full border-b border-gray-300 bg-transparent py-2 px-1 focus:border-indigo-500 focus:outline-none"
            />
          </div>

          <!-- 2) What is your email? -->
          <div>
            <label for="email" class="block text-sm font-medium text-gray-700">What is your email?</label>
            <input
              type="email"
              id="email"
              name="email"
              placeholder="Email"
              required
              class="mt-1 block w-full border-b border-gray-300 bg-transparent py-2 px-1 focus:border-indigo-500 focus:outline-none"
            />
          </div>

          <!-- 3) Country Code + Phone Number -->
          <div class="flex space-x-4">
            <!-- Country Code -->
            <div class="w-1/3">
              <label for="dialing_code" class="block text-sm font-medium text-gray-700">&nbsp;</label>
              <select
                id="dialing_code"
                name="dialing_code"
                required
                class="mt-1 block w-full border-b border-gray-300 bg-transparent py-2 px-1 focus:border-indigo-500 focus:outline-none"
              >
                <option value="">—</option>
                <option value="+1">+1</option>
                <option value="+7">+7</option>
                <option value="+20" selected>+20</option>
                <option value="+27">+27</option>
                <option value="+30">+30</option>
                <option value="+31">+31</option>
                <option value="+32">+32</option>
                <option value="+33">+33</option>
                <option value="+34">+34</option>
                <!-- … add any other codes you need … -->
              </select>
            </div>
            <!-- Phone Number -->
            <div class="w-2/3">
              <label for="phone_number" class="block text-sm font-medium text-gray-700">Phone Number</label>
              <input
                type="tel"
                id="phone_number"
                name="phone_number"
                placeholder="Enter phone number"
                required
                class="mt-1 block w-full border-b border-gray-300 bg-transparent py-2 px-1 focus:border-indigo-500 focus:outline-none"
              />
            </div>
          </div>

          <!-- 4) What is your role in the company? -->
          <div>
            <label for="role" class="block text-sm font-medium text-gray-700">What is your role in the company?</label>
            <input
              type="text"
              id="role"
              name="role"
              placeholder="Enter role"
              required
              class="mt-1 block w-full border-b border-gray-300 bg-transparent py-2 px-1 focus:border-indigo-500 focus:outline-none"
            />
          </div>

          <!-- 5) Company Name -->
          <div>
            <label for="company_name" class="block text-sm font-medium text-gray-700">Company Name</label>
            <input
              type="text"
              id="company_name"
              name="company_name"
              placeholder="Enter company name"
              required
              class="mt-1 block w-full border-b border-gray-300 bg-transparent py-2 px-1 focus:border-indigo-500 focus:outline-none"
            />
          </div>

          <!-- 6) Company Website (Optional) -->
          <div>
            <label for="company_website" class="block text-sm font-medium text-gray-700">Company Website (Optional)</label>
            <input
              type="url"
              id="company_website"
              name="company_website"
              placeholder="Enter company website"
              class="mt-1 block w-full border-b border-gray-300 bg-transparent py-2 px-1 focus:border-indigo-500 focus:outline-none"
            />
          </div>

          <!-- 7) Project budget -->
          <div>
            <label for="project_budget" class="block text-sm font-medium text-gray-700">Project budget</label>
            <select
              id="project_budget"
              name="project_budget"
              required
              class="mt-1 block w-full border-b border-gray-300 bg-transparent py-2 px-1 focus:border-indigo-500 focus:outline-none"
            >
              <option value="" disabled selected>Select budget range</option>
              <option value="0-5000">&lt; $5,000</option>
              <option value="5000-10000">$5,000–$10,000</option>
              <option value="10000-25000">$10,000–$25,000</option>
              <option value="25000-50000">$25,000–$50,000</option>
              <option value="50000-100000">$50,000–$100,000</option>
              <option value="100000-plus">&gt; $100,000</option>
            </select>
          </div>

          <!-- 8) What services are you interested in? -->
          <div>
            <label for="services_needed" class="block text-sm font-medium text-gray-700">What services are you interested in?</label>
            <select
              id="services_needed"
              name="services_needed"
              required
              class="mt-1 block w-full border-b border-gray-300 bg-transparent py-2 px-1 focus:border-indigo-500 focus:outline-none"
            >
              <option value="" disabled selected>Select services</option>
              <option value="web_development">App development</option>
              <option value="mobile_app">Web Development</option>
              <option value="ui_ux_design">Customized software solutions</option>
            </select>
          </div>

          <!-- 9) Message (optional) -->
          <div>
            <label for="message" class="block text-sm font-medium text-gray-700">Additional details (optional)</label>
            <textarea
              id="message"
              name="message"
              rows="3"
              placeholder="How can we help you?"
              class="mt-1 block w-full border-b border-gray-300 bg-transparent py-2 px-1 focus:border-indigo-500 focus:outline-none resize-none"
            ></textarea>
          </div>

          <!-- 10) Submit Button -->
          <div class="pt-4 flex justify-end">
            <button
              type="submit"
              id="contact-submit-button"
              class="inline-flex justify-center rounded-md border border-transparent bg-[#00003a] px-6 py-2 text-base font-medium text-white hover:bg-[#1a1a72] focus:outline-none focus:ring-2 focus:ring-[#1a1a72] focus:ring-offset-2"
            >
              Submit
            </button>
          </div>
        </form>
           <div id="successMessage" class="hidden px-6 py-8 flex flex-col items-center justify-center">
     <!--
       You can copy/paste your own heading + paragraph here.
       Example structure below mimics the screenshot’s copy:
     -->
     <h2 class="text-2xl font-semibold text-black text-center">
       We’ve got it. The next move is ours.
     </h2>
     <p class="mt-4 text-black text-center">
       We’re aligning the right experts on our end and will get back to you within a couple of days to explore how we can move forward together.
     </p>
     <!--
       If you later want to swap out “text-black” for a different color font, just adjust here.
     -->
   </div>
      </div>
    </div>
  </div>

  <script>
    // 1) Close‐button: redirect to homepage instead of hiding an overlay
    document.getElementById('contact-modal-close').addEventListener('click', function() {
      window.location.href = '/';   
    });

    // 2) EmailJS integration
    const EMAILJS_CONFIG = {
      publicKey: 'b2kCLQ-NwOEeGvZVq',
      serviceId: 'service_bck80z4',
      templateId: 'template_8ju8jqy'
    };

    function waitForEmailJS() {
      return new Promise((resolve, reject) => {
        if (window.emailjs) {
          resolve();
        } else {
          let attempts = 0;
          const interval = setInterval(() => {
            attempts++;
            if (window.emailjs) {
              clearInterval(interval);
              resolve();
            } else if (attempts > 20) {
              clearInterval(interval);
              reject(new Error('EmailJS failed to load'));
            }
          }, 200);
        }
      });
    }

    async function initForm() {
      try {
        await waitForEmailJS();
        emailjs.init(EMAILJS_CONFIG.publicKey);

        const form = document.getElementById('contactForm');
        const submitBtn = document.getElementById('contact-submit-button');

        form.addEventListener('submit', function(e) {
          e.preventDefault();
          submitBtn.disabled = true;
          submitBtn.textContent = 'Sending…';

          // SEND THE FORM DATA TO EMAILJS
          emailjs.sendForm(
            EMAILJS_CONFIG.serviceId,
            EMAILJS_CONFIG.templateId,
            this
          ).then(() => {
            // ——— BEFORE: default “success” alert ———
            // alert('✓ Your message was sent successfully!');
            //
            // ——— AFTER: REPLACE WITH YOUR CUSTOM MESSAGE BLOCK ———
            // For example, if you want to show a custom HTML element instead of alert:
            // document.getElementById('myCustomSuccessDiv').classList.remove('hidden');
            //
            // Or, if you still want an alert but with your own wording:
            // alert('<< YOUR CUSTOM MESSAGE HERE >>');

            alert('✓ Your message was sent successfully!');  // ← CHANGE THIS TEXT TO YOUR CUSTOM MESSAGE

            form.reset();
            window.location.href = '/';  
          }, (err) => {
            alert('⚠️ Submission error: ' + (err.text || 'Unknown error'));
            console.error(err);
          }).finally(() => {
            submitBtn.disabled = false;
            submitBtn.textContent = 'Submit';
          });
        });
      } catch (e) {
        console.error('Init error:', e);
        alert('Could not initialize the contact form. Please reload the page.');
      }
    }

    initForm();
  </script>
</body>
</html>
